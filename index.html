<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
            padding: 10px;
        }
        
        .container {
            text-align: center;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 800px;
        }
        
        .photo {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .rating-container {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .rating-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 120px;
        }
        
        .rating-count {
            font-size: 24px;
            font-weight: bold;
            margin: 5px 0;
        }
        
        .like-btn, .dislike-btn {
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
            width: 100%;
            max-width: 200px;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
        @media (max-width: 768px) {
            .like-btn, .dislike-btn {
                padding: 10px 16px;
                font-size: 14px;
                max-width: 140px;
            }
            
            .rating-count {
                font-size: 20px;
            }
            
            .container {
                padding: 15px;
            }
        }
        
        @media (max-width: 480px) {
            .like-btn, .dislike-btn {
                padding: 8px 12px;
                font-size: 13px;
                max-width: 120px;
            }
            
            .rating-count {
                font-size: 18px;
            }
            
            .rating-container {
                gap: 10px;
            }
            
            .rating-item {
                min-width: 100px;
            }
        }
        
        .like-btn {
            background-color: #007bff;
            color: white;
        }
        
        .like-btn:hover {
            background-color: #0056b3;
        }
        
        .like-btn.liked {
            background-color: #28a745;
            transform: scale(1.05);
        }
        
        .like-btn:disabled {
            background-color: #6c757d;
            cursor: not-allowed;
            transform: none;
        }
        
        .dislike-btn {
            background-color: #dc3545;
            color: white;
        }
        
        .dislike-btn:hover {
            background-color: #c82333;
        }
        
        .dislike-btn.disliked {
            background-color: #6c757d;
            transform: scale(1.05);
        }
        
        .dislike-btn:disabled {
            background-color: #6c757d;
            cursor: not-allowed;
            transform: none;
        }
        
        .spoiler-text {
            font-size: 24px;
            font-weight: bold;
            color: #333;
            margin: 20px 0;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 8px;
            border: 2px solid #dee2e6;
            word-break: break-word;
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
        @media (max-width: 768px) {
            .spoiler-text {
                font-size: 20px;
                padding: 15px;
            }
        }
        
        @media (max-width: 480px) {
            .spoiler-text {
                font-size: 18px;
                padding: 12px;
            }
        }
        
        .hidden {
            display: none;
        }
        
        .comments-section {
            margin-top: 30px;
            text-align: left;
            width: 100%;
        }
        
        .comments-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 15px;
            text-align: center;
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ */
        @media (max-width: 480px) {
            .comments-title {
                font-size: 18px;
            }
        }
        
        .comment-form {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .comment-input {
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
            resize: vertical;
            min-height: 60px;
            width: 100%;
        }
        
        .comment-submit {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            align-self: flex-end;
            min-width: 120px;
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ */
        @media (max-width: 480px) {
            .comment-submit {
                align-self: stretch;
                min-width: auto;
            }
        }
        
        .comment-submit:hover {
            background-color: #0056b3;
        }
        
        .comments-list {
            border-top: 1px solid #eee;
            padding-top: 15px;
        }
        
        .comment {
            background-color: #f8f9fa;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 10px;
            border-left: 4px solid #007bff;
            word-break: break-word;
        }
        
        .comment-author {
            font-weight: bold;
            margin-bottom: 5px;
            font-size: 16px;
        }
        
        .comment-text {
            margin: 0;
            font-size: 14px;
            line-height: 1.4;
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ */
        @media (max-width: 480px) {
            .comment {
                padding: 10px;
            }
            
            .comment-author {
                font-size: 15px;
            }
            
            .comment-text {
                font-size: 13px;
            }
        }
        
        .user-stats {
            margin: 10px 0;
            font-size: 14px;
            color: #666;
            text-align: center;
            padding: 8px;
            background-color: #f8f9fa;
            border-radius: 5px;
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */
        @media (max-width: 480px) {
            .user-stats {
                font-size: 13px;
                padding: 6px;
            }
        }

        /* –¶–≤–µ—Ç–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∞–≤—Ç–æ—Ä–æ–≤ */
        .author-lenin { color: #dc3545; border-left-color: #dc3545; }
        .author-stalin { color: #007bff; border-left-color: #007bff; }
        .author-trotsky { color: #28a745; border-left-color: #28a745; }
        .author-tsar { color: #6f42c1; border-left-color: #6f42c1; }
        .author-worker { color: #fd7e14; border-left-color: #fd7e14; }
        .author-krupskaya { color: #e83e8c; border-left-color: #e83e8c; }

        /* –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ */
        @media (max-width: 360px) {
            .rating-container {
                flex-direction: column;
                align-items: center;
            }
            
            .rating-item {
                width: 100%;
                max-width: 200px;
            }
            
            .like-btn, .dislike-btn {
                max-width: 100%;
            }
        }

        /* –£–ª—É—á—à–µ–Ω–∏—è –¥–ª—è –æ—á–µ–Ω—å –≤—ã—Å–æ–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ */
        @media (min-height: 800px) and (max-width: 768px) {
            .container {
                margin: 20px 0;
            }
        }

        /* –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö */
        @media (max-width: 768px) {
            body {
                -webkit-text-size-adjust: 100%;
                text-size-adjust: 100%;
            }
        }

        .instruction {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 10px;
            margin: 10px 0;
            font-size: 14px;
            color: #856404;
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="photoContainer">
            <img src="http://classic.dzzzr.ru/uploaded/kaliningrad/Lite/48DRS/w1056h594fill.jpeg" 
                 alt="–ü—Ä–∏–º–µ—Ä —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏" 
                 class="photo" 
                 id="photo">
        </div>
        
        <div id="spoilerContainer" class="hidden">
            <div class="spoiler-text">–ø–æ–π—Ä–µ–≤–æ–ª—é—Ü–∏—è</div>
        </div>
        
        <div class="user-stats" id="userStats">
            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
        </div>
        
        <div class="rating-container">
            <div class="rating-item">
                <div class="rating-count" id="likeCount">0</div>
                <button class="like-btn" id="likeBtn" onclick="handleLike()">‚ù§Ô∏è –õ–∞–π–∫—ä</button>
            </div>
            <div class="rating-item">
                <div class="rating-count" id="dislikeCount">0</div>
                <button class="dislike-btn" id="dislikeBtn" onclick="handleDislike()">üëé –î–∏–∑–ª–∞–π–∫—ä</button>
            </div>
        </div>
        
        <div class="comments-section" id="commentsSection" class="hidden">
            <div class="comments-title">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</div>
            
            <div class="comment-form">
                <textarea class="comment-input" id="commentInput" placeholder="–û—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π..."></textarea>
                <button class="comment-submit" onclick="addComment()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            </div>
            
            <div class="comments-list" id="commentsList">
                <!-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∑–¥–µ—Å—å -->
            </div>
        </div>
    </div>

    <script>
        // –°–ø–∏—Å–æ–∫ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∞–≤—Ç–æ—Ä–æ–≤
        const authors = [
            { name: "–õ–µ–Ω–∏–Ω", class: "author-lenin" },
            { name: "–°—Ç–∞–ª–∏–Ω", class: "author-stalin" },
            { name: "–¢—Ä–æ—Ü–∫–∏–π", class: "author-trotsky" },
            { name: "–¶–∞—Ä—å", class: "author-tsar" },
            { name: "–†–∞–±–æ—á–∏–π", class: "author-worker" },
            { name: "–ö—Ä—É–ø—Å–∫–∞—è", class: "author-krupskaya" }
        ];

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
        let likes = localStorage.getItem('likes') ? parseInt(localStorage.getItem('likes')) : 0;
        let dislikes = localStorage.getItem('dislikes') ? parseInt(localStorage.getItem('dislikes')) : 0;
        let userLikes = localStorage.getItem('userLikes') ? parseInt(localStorage.getItem('userLikes')) : 0;
        let userDislikes = localStorage.getItem('userDislikes') ? parseInt(localStorage.getItem('userDislikes')) : 0;
        let hasSeenSpoiler = localStorage.getItem('hasSeenSpoiler') === 'true';

        let comments = JSON.parse(localStorage.getItem('comments')) || [
            { author: "–õ–µ–Ω–∏–Ω", authorClass: "author-lenin", text: "–í—Å—è–∫–∞—è —Ä–µ–≤–æ–ª—é—Ü–∏—è –ª–∏—à—å —Ç–æ–≥–¥–∞ —á–µ–≥–æ-–Ω–∏–±—É–¥—å —Å—Ç–æ–∏—Ç, –µ—Å–ª–∏ –æ–Ω–∞ —É–º–µ–µ—Ç –∑–∞—â–∏—â–∞—Ç—å—Å—è!" },
            { author: "–°—Ç–∞–ª–∏–Ω", authorClass: "author-stalin", text: "–ñ–∏—Ç—å —Å—Ç–∞–ª–æ –ª—É—á—à–µ, –∂–∏—Ç—å —Å—Ç–∞–ª–æ –≤–µ—Å–µ–ª–µ–µ!" },
            { author: "–¢—Ä–æ—Ü–∫–∏–π", authorClass: "author-trotsky", text: "–†–µ–≤–æ–ª—é—Ü–∏—è –Ω–µ –±—ã–≤–∞–µ—Ç –±–µ–∑ –∂–µ—Ä—Ç–≤!" },
            { author: "–¶–∞—Ä—å", authorClass: "author-tsar", text: "–ë–æ–∂–µ, –¶–∞—Ä—è —Ö—Ä–∞–Ω–∏!" },
            { author: "–†–∞–±–æ—á–∏–π", authorClass: "author-worker", text: "–ü—Ä–æ–ª–µ—Ç–∞—Ä–∏–∏ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω, —Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å!" },
            { author: "–ö—Ä—É–ø—Å–∫–∞—è", authorClass: "author-krupskaya", text: "–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ - –∫–ª—é—á –∫ —Å–≤–µ—Ç–ª–æ–º—É –±—É–¥—É—â–µ–º—É!" }
        ];

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∞–≤—Ç–æ—Ä–∞
        function getRandomAuthor() {
            const randomIndex = Math.floor(Math.random() * authors.length);
            return authors[randomIndex];
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
        document.addEventListener('DOMContentLoaded', function() {
            updateRatingDisplay();
            updateUserStats();
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤–∏–¥–µ–ª –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–ø–æ–π–ª–µ—Ä
            if (hasSeenSpoiler) {
                // –ï—Å–ª–∏ –≤–∏–¥–µ–ª - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–ø–æ–π–ª–µ—Ä –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
                showSpoilerAndComments();
            } else {
                // –ï—Å–ª–∏ –Ω–µ –≤–∏–¥–µ–ª - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ —Ñ–æ—Ç–æ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é
                showPhotoOnly();
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–æ–∫
            updateButtonStates();
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—Ä–æ—Å –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ (—Ç–æ–ª—å–∫–æ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö)
            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                if (document.documentElement.requestFullscreen) {
                    document.documentElement.requestFullscreen().catch(err => {
                        console.log('–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è:', err);
                    });
                }
            }
        });

        function showPhotoOnly() {
            document.getElementById('photoContainer').classList.remove('hidden');
            document.getElementById('spoilerContainer').classList.add('hidden');
            document.getElementById('instruction').classList.remove('hidden');
            document.getElementById('commentsSection').classList.add('hidden');
            
            // –í–∫–ª—é—á–∞–µ–º –∫–Ω–æ–ø–∫–∏
            document.getElementById('likeBtn').disabled = false;
            document.getElementById('dislikeBtn').disabled = false;
        }

        function showSpoilerAndComments() {
            document.getElementById('photoContainer').classList.add('hidden');
            document.getElementById('spoilerContainer').classList.remove('hidden');
            document.getElementById('instruction').classList.add('hidden');
            document.getElementById('commentsSection').classList.remove('hidden');
            displayComments();
            
            // –û—Ç–∫–ª—é—á–∞–µ–º –∫–Ω–æ–ø–∫–∏ –ø–æ—Å–ª–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å–ø–æ–π–ª–µ—Ä–∞
            document.getElementById('likeBtn').disabled = true;
            document.getElementById('dislikeBtn').disabled = true;
        }

        function handleLike() {
            // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –æ–±—â–∏–π —Å—á–µ—Ç—á–∏–∫ –ª–∞–π–∫–æ–≤ –∏ —Å—á–µ—Ç—á–∏–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            likes++;
            userLikes++;
            localStorage.setItem('likes', likes);
            localStorage.setItem('userLikes', userLikes);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–ø–æ–π–ª–µ—Ä –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
            hasSeenSpoiler = true;
            localStorage.setItem('hasSeenSpoiler', 'true');
            showSpoilerAndComments();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            updateRatingDisplay();
            updateUserStats();
            updateButtonStates();
            
            // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞ - —à–∏—Ñ—Ä—É–µ–º —Ç–µ–∫—Å—Ç —Å–ø–æ–π–ª–µ—Ä–∞
            setTimeout(() => {
                const spoilerText = document.querySelector('.spoiler-text');
                spoilerText.textContent = '–ø–æ–π—Ä–µ–≤–æ–ª—é—Ü–∏—è';
            }, 100);
        }

        function handleDislike() {
            // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –æ–±—â–∏–π —Å—á–µ—Ç—á–∏–∫ –¥–∏–∑–ª–∞–π–∫–æ–≤ –∏ —Å—á–µ—Ç—á–∏–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            dislikes++;
            userDislikes++;
            localStorage.setItem('dislikes', dislikes);
            localStorage.setItem('userDislikes', userDislikes);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            updateRatingDisplay();
            updateUserStats();
            updateButtonStates();
            
            // –î–∏–∑–ª–∞–π–∫ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å–ø–æ–π–ª–µ—Ä - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –ø–æ—Å—Ç–∞–≤–∏—Ç—å –ª–∞–π–∫
            alert('–ß—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Å–∫—Ä—ã—Ç–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, –Ω—É–∂–Ω–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –ª–∞–π–∫!');
        }

        function updateRatingDisplay() {
            document.getElementById('likeCount').textContent = likes;
            document.getElementById('dislikeCount').textContent = dislikes;
        }

        function updateUserStats() {
            const userStats = document.getElementById('userStats');
            if (userLikes > 0 || userDislikes > 0) {
                userStats.innerHTML = `–í–∞—à–∏ –≥–æ–ª–æ—Å–∞: ‚ù§Ô∏è ${userLikes} | üëé ${userDislikes}`;
                userStats.classList.remove('hidden');
            } else {
                userStats.classList.add('hidden');
            }
        }

        function updateButtonStates() {
            const likeBtn = document.getElementById('likeBtn');
            const dislikeBtn = document.getElementById('dislikeBtn');
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è
            likeBtn.classList.remove('liked');
            dislikeBtn.classList.remove('disliked');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–æ–∫
            likeBtn.textContent = userLikes > 0 ? `‚ù§Ô∏è –õ–∞–π–∫—ä (${userLikes})` : '‚ù§Ô∏è –õ–∞–π–∫—ä';
            dislikeBtn.textContent = userDislikes > 0 ? `üëé –î–∏–∑–ª–∞–π–∫—ä (${userDislikes})` : 'üëé –î–∏–∑–ª–∞–π–∫—ä';
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å—ã –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π
            if (userLikes > 0) {
                likeBtn.classList.add('liked');
            }
            if (userDislikes > 0) {
                dislikeBtn.classList.add('disliked');
            }
            
            // –û—Ç–∫–ª—é—á–∞–µ–º –∫–Ω–æ–ø–∫–∏ –ø–æ—Å–ª–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å–ø–æ–π–ª–µ—Ä–∞
            if (hasSeenSpoiler) {
                likeBtn.disabled = true;
                dislikeBtn.disabled = true;
            }
        }

        function addComment() {
            const commentInput = document.getElementById('commentInput');
            const text = commentInput.value.trim();
            
            if (text === '') {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è');
                return;
            }
            
            // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∞–≤—Ç–æ—Ä–∞
            const randomAuthor = getRandomAuthor();
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∞–≤—Ç–æ—Ä–∞
            const newComment = {
                author: randomAuthor.name,
                authorClass: randomAuthor.class,
                text: text
            };
            
            comments.push(newComment);
            localStorage.setItem('comments', JSON.stringify(comments));
            
            // –û—á–∏—â–∞–µ–º –ø–æ–ª–µ –≤–≤–æ–¥–∞ –∏ –æ–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
            commentInput.value = '';
            displayComments();
            
            // –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ –Ω–æ–≤–æ–º—É –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—é –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
            if (window.innerWidth <= 768) {
                const commentsList = document.getElementById('commentsList');
                commentsList.lastElementChild.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }
        }

        function displayComments() {
            const commentsList = document.getElementById('commentsList');
            commentsList.innerHTML = '';
            
            comments.forEach(comment => {
                const commentElement = document.createElement('div');
                commentElement.className = `comment ${comment.authorClass}`;
                commentElement.innerHTML = `
                    <div class="comment-author ${comment.authorClass}">${comment.author}</div>
                    <p class="comment-text">${comment.text}</p>
                `;
                commentsList.appendChild(commentElement);
            });
        }

        // –ó–∞—â–∏—Ç–∞ –æ—Ç –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞
        document.addEventListener('keydown', function(e) {
            // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ F12
            if (e.key === 'F12') {
                e.preventDefault();
                return false;
            }
            
            // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ Ctrl+U (–ø—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞)
            if (e.ctrlKey && e.key === 'u') {
                e.preventDefault();
                return false;
            }
            
            // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ Ctrl+Shift+I (–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞)
            if (e.ctrlKey && e.shiftKey && e.key === 'I') {
                e.preventDefault();
                return false;
            }
            
            // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ Ctrl+Shift+C (–∏–Ω—Å–ø–µ–∫—Ç–æ—Ä —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
            if (e.ctrlKey && e.shiftKey && e.key === 'C') {
                e.preventDefault();
                return false;
            }
            
            // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–∏ –º—ã—à–∏
            if (e.button === 2) {
                e.preventDefault();
                return false;
            }
        });

        // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω—é
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
            return false;
        });

        // –ó–∞—â–∏—Ç–∞ –æ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞
        document.addEventListener('copy', function(e) {
            e.preventDefault();
            alert('–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–µ—â–µ–Ω–æ!');
            return false;
        });

        // –ó–∞—â–∏—Ç–∞ –æ—Ç –æ—Ç–∫—Ä—ã—Ç–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è –ü–ö)
        if (!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
            setInterval(function() {
                if (window.outerHeight - window.innerHeight > 200 || 
                    window.outerWidth - window.innerWidth > 200) {
                    window.close();
                    window.location.href = 'about:blank';
                }
            }, 1000);
        }

        // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –≤—ã—Ö–æ–¥–∞ –∏–∑ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö)
        if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
            document.addEventListener('fullscreenchange', function() {
                if (!document.fullscreenElement) {
                    document.documentElement.requestFullscreen().catch(err => {
                        console.log('–û—à–∏–±–∫–∞ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞:', err);
                    });
                }
            });
        }
    </script>
</body>
</html>
