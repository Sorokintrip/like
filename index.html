<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
        }
        
        .container {
            text-align: center;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            max-width: 600px;
            width: 100%;
        }
        
        .photo {
            max-width: 400px;
            max-height: 400px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .rating-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }
        
        .rating-item {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .rating-count {
            font-size: 24px;
            font-weight: bold;
            margin: 5px 0;
        }
        
        .like-btn, .dislike-btn {
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
            min-width: 150px;
        }
        
        .like-btn {
            background-color: #007bff;
            color: white;
        }
        
        .like-btn:hover {
            background-color: #0056b3;
        }
        
        .like-btn.liked {
            background-color: #28a745;
        }
        
        .dislike-btn {
            background-color: #dc3545;
            color: white;
        }
        
        .dislike-btn:hover {
            background-color: #c82333;
        }
        
        .dislike-btn.disliked {
            background-color: #6c757d;
        }
        
        .spoiler-text {
            font-size: 24px;
            font-weight: bold;
            color: #333;
            margin: 20px 0;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 8px;
            border: 2px solid #dee2e6;
        }
        
        .hidden {
            display: none;
        }
        
        .comments-section {
            margin-top: 30px;
            text-align: left;
            width: 100%;
        }
        
        .comments-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .comment-form {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .comment-input {
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
            resize: vertical;
            min-height: 60px;
        }
        
        .comment-submit {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            align-self: flex-end;
        }
        
        .comment-submit:hover {
            background-color: #0056b3;
        }
        
        .comments-list {
            border-top: 1px solid #eee;
            padding-top: 15px;
        }
        
        .comment {
            background-color: #f8f9fa;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 10px;
            border-left: 4px solid #007bff;
        }
        
        .comment-author {
            font-weight: bold;
            color: #007bff;
            margin-bottom: 5px;
        }
        
        .comment-text {
            margin: 0;
        }
        
        .disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="photoContainer">
            <img src="http://classic.dzzzr.ru/uploaded/kaliningrad/Lite/48DRS/w1056h594fill.jpeg" 
                 alt="–ü—Ä–∏–º–µ—Ä —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏" 
                 class="photo" 
                 id="photo">
        </div>
        
        <div id="spoilerContainer" class="hidden">
            <div class="spoiler-text">–ø–æ–π—Ä–µ–≤–æ–ª—é—Ü–∏—è</div>
        </div>
        
        <div class="rating-container">
            <div class="rating-item">
                <div class="rating-count" id="likeCount">0</div>
                <button class="like-btn" id="likeBtn" onclick="handleLike()">‚ù§Ô∏è –õ–∞–π–∫</button>
            </div>
            <div class="rating-item">
                <div class="rating-count" id="dislikeCount">0</div>
                <button class="dislike-btn" id="dislikeBtn" onclick="handleDislike()">üëé –î–∏–∑–ª–∞–π–∫</button>
            </div>
        </div>
        
        <div class="comments-section">
            <div class="comments-title">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</div>
            
            <div class="comment-form">
                <textarea class="comment-input" id="commentInput" placeholder="–û—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π..."></textarea>
                <button class="comment-submit" onclick="addComment()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            </div>
            
            <div class="comments-list" id="commentsList">
                <!-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∑–¥–µ—Å—å -->
            </div>
        </div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
        let likes = localStorage.getItem('likes') ? parseInt(localStorage.getItem('likes')) : 0;
        let dislikes = localStorage.getItem('dislikes') ? parseInt(localStorage.getItem('dislikes')) : 0;
        let userVoted = localStorage.getItem('userVoted') || false;
        let comments = JSON.parse(localStorage.getItem('comments')) || [
            { author: "–õ–µ–Ω–∏–Ω", text: "–í—Å—è–∫–∞—è —Ä–µ–≤–æ–ª—é—Ü–∏—è –ª–∏—à—å —Ç–æ–≥–¥–∞ —á–µ–≥–æ-–Ω–∏–±—É–¥—å —Å—Ç–æ–∏—Ç, –µ—Å–ª–∏ –æ–Ω–∞ —É–º–µ–µ—Ç –∑–∞—â–∏—â–∞—Ç—å—Å—è!" },
            { author: "–õ–µ–Ω–∏–Ω", text: "–£—á–∏—Ç—å—Å—è, —É—á–∏—Ç—å—Å—è –∏ —É—á–∏—Ç—å—Å—è!" },
            { author: "–õ–µ–Ω–∏–Ω", text: "–ï—Å—Ç—å —Ç–∞–∫–∞—è –ø–∞—Ä—Ç–∏—è!" }
        ];

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
        document.addEventListener('DOMContentLoaded', function() {
            updateRatingDisplay();
            displayComments();
            
            if (userVoted) {
                disableVoting();
            }
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—Ä–æ—Å –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
            if (document.documentElement.requestFullscreen) {
                document.documentElement.requestFullscreen().catch(err => {
                    console.log('–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è:', err);
                });
            }
        });

        function handleLike() {
            if (userVoted) return;
            
            const photoContainer = document.getElementById('photoContainer');
            const spoilerContainer = document.getElementById('spoilerContainer');
            const likeBtn = document.getElementById('likeBtn');
            
            // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –ª–∞–π–∫–æ–≤
            likes++;
            localStorage.setItem('likes', likes);
            userVoted = 'liked';
            localStorage.setItem('userVoted', userVoted);
            
            // –°–∫—Ä—ã–≤–∞–µ–º —Ñ–æ—Ç–æ –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–ø–æ–π–ª–µ—Ä
            photoContainer.classList.add('hidden');
            spoilerContainer.classList.remove('hidden');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞
            updateRatingDisplay();
            
            // –ú–µ–Ω—è–µ–º –∫–Ω–æ–ø–∫—É
            likeBtn.textContent = '‚ù§Ô∏è –õ–∞–π–∫ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω!';
            likeBtn.classList.add('liked');
            
            // –û—Ç–∫–ª—é—á–∞–µ–º –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ
            disableVoting();
            
            // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞ - —à–∏—Ñ—Ä—É–µ–º —Ç–µ–∫—Å—Ç —Å–ø–æ–π–ª–µ—Ä–∞
            setTimeout(() => {
                const spoilerText = document.querySelector('.spoiler-text');
                spoilerText.textContent = '–ø–æ–π—Ä–µ–≤–æ–ª—é—Ü–∏—è';
            }, 100);
        }

        function handleDislike() {
            if (userVoted) return;
            
            // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –¥–∏–∑–ª–∞–π–∫–æ–≤
            dislikes++;
            localStorage.setItem('dislikes', dislikes);
            userVoted = 'disliked';
            localStorage.setItem('userVoted', userVoted);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞
            updateRatingDisplay();
            
            // –ú–µ–Ω—è–µ–º –∫–Ω–æ–ø–∫—É
            const dislikeBtn = document.getElementById('dislikeBtn');
            dislikeBtn.textContent = 'üëé –î–∏–∑–ª–∞–π–∫ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω!';
            dislikeBtn.classList.add('disliked');
            
            // –û—Ç–∫–ª—é—á–∞–µ–º –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ
            disableVoting();
        }

        function updateRatingDisplay() {
            document.getElementById('likeCount').textContent = likes;
            document.getElementById('dislikeCount').textContent = dislikes;
        }

        function disableVoting() {
            document.getElementById('likeBtn').classList.add('disabled');
            document.getElementById('dislikeBtn').classList.add('disabled');
            document.getElementById('likeBtn').disabled = true;
            document.getElementById('dislikeBtn').disabled = true;
        }

        function addComment() {
            const commentInput = document.getElementById('commentInput');
            const text = commentInput.value.trim();
            
            if (text === '') {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è');
                return;
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ—Ç –õ–µ–Ω–∏–Ω–∞
            const newComment = {
                author: "–õ–µ–Ω–∏–Ω",
                text: text
            };
            
            comments.push(newComment);
            localStorage.setItem('comments', JSON.stringify(comments));
            
            // –û—á–∏—â–∞–µ–º –ø–æ–ª–µ –≤–≤–æ–¥–∞ –∏ –æ–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
            commentInput.value = '';
            displayComments();
        }

        function displayComments() {
            const commentsList = document.getElementById('commentsList');
            commentsList.innerHTML = '';
            
            comments.forEach(comment => {
                const commentElement = document.createElement('div');
                commentElement.className = 'comment';
                commentElement.innerHTML = `
                    <div class="comment-author">${comment.author}</div>
                    <p class="comment-text">${comment.text}</p>
                `;
                commentsList.appendChild(commentElement);
            });
        }

        // –ó–∞—â–∏—Ç–∞ –æ—Ç –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞
        document.addEventListener('keydown', function(e) {
            // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ F12
            if (e.key === 'F12') {
                e.preventDefault();
                return false;
            }
            
            // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ Ctrl+U (–ø—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞)
            if (e.ctrlKey && e.key === 'u') {
                e.preventDefault();
                return false;
            }
            
            // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ Ctrl+Shift+I (–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞)
            if (e.ctrlKey && e.shiftKey && e.key === 'I') {
                e.preventDefault();
                return false;
            }
            
            // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ Ctrl+Shift+C (–∏–Ω—Å–ø–µ–∫—Ç–æ—Ä —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
            if (e.ctrlKey && e.shiftKey && e.key === 'C') {
                e.preventDefault();
                return false;
            }
            
            // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–∏ –º—ã—à–∏
            if (e.button === 2) {
                e.preventDefault();
                return false;
            }
        });

        // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω—é
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
            return false;
        });

        // –ó–∞—â–∏—Ç–∞ –æ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞
        document.addEventListener('copy', function(e) {
            e.preventDefault();
            alert('–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–µ—â–µ–Ω–æ!');
            return false;
        });

        // –ó–∞—â–∏—Ç–∞ –æ—Ç –æ—Ç–∫—Ä—ã—Ç–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
        setInterval(function() {
            if (window.outerHeight - window.innerHeight > 200 || 
                window.outerWidth - window.innerWidth > 200) {
                window.close();
                window.location.href = 'about:blank';
            }
        }, 1000);

        // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –≤—ã—Ö–æ–¥–∞ –∏–∑ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
        document.addEventListener('fullscreenchange', function() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen().catch(err => {
                    console.log('–û—à–∏–±–∫–∞ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞:', err);
                });
            }
        });
    </script>
</body>
</html>
